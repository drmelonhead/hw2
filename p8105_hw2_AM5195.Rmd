---
title: "P8105: Homework 2"
author: Alexander Melamed
output: github_document
---

```{r}
library(tidyverse)
```

# Problem 1
The first part of this problem is to import and clean the Mr. Trash Wheel data and to clean it. 
```{r}
trash_df = 
  readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                     sheet="Mr. Trash Wheel", 
    range ="A2:N406") %>% 
  janitor::clean_names() %>% 
  filter(!is.na(dumpster)) %>% 
  mutate(sports_balls=as.integer(sports_balls)
  )
trash_df
```

The next part of this problem is to read and clean precipitation data for 2017 and 2018. For each, we omit rows without precipitation data and add a variable year. 

```{r}
##Import and clean 2017 & 2018 data
precipitation_2017_df = 
  readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet="2017 Precipitation", range ="A2:B14") %>%
  janitor::clean_names() %>% 
  mutate(year=2017)

precipitation_2017_df

##Import and clean 2018 data
precipitation_2018_df = 
  readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                     sheet="2018 Precipitation", 
    range ="A2:B14") %>%
  janitor::clean_names() %>% 
  mutate(year=2018)

precipitation_2018_df
```
<<<<<<< HEAD


Next, we combine precipitation datasets and convert month to a character variable (the variable month.name is built into R and should be useful). We also create a data set with only the 2017 Mr. Trash Wheel data, because we'll need it for the following paragraph. 

```{r}
precipitation_2017_2018_df=
  bind_rows(precipitation_2017_df,precipitation_2018_df) %>% 
  mutate(month=month.name[month])


precipitation_2017_2018_df

trash_2017= trash_df %>%
  filter(year==2017)
```


The data frame `trash_df`, our read and cleaned version of "Mr. Trash Wheel, includes the following variables: `r names(trash_df)`. The data has `r nrow(trash_df)` observations. The data frame `precipitation_2017_2018_df` combines precipitation data from 2017 and 2018. This data frome includes the following variables: `r names(precipitation_2017_2018_df)`.



The total precipitation in 2018 was `r sum(precipitation_2018_df$total)` inches. The median number of sports balls in a dumpster in 2017 was `r median(trash_2017$sports_balls)`.


## Problem 2

In the following codechunk I read and clean the data; retain line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance. Convert the entry variable from character (YES vs NO) to a logical variable (the ifelse or recode function may be useful).

```{r}
train_df=
  read_csv("data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line,entry,vending,entrance_type,starts_with("station"),starts_with("route"), ada) %>% 
  select(!station_location) %>% 
  mutate(entry=if_else(entry=="NO",FALSE,TRUE))
```



